import 'package:flutter/material.dart';
import 'package:shared_preferences/shared_preferences.dart';

class LocalizationService {
  static const String _languageKey = 'selected_language';
  
  static const Map<String, Map<String, String>> _localizedValues = {
    'th': {
      'app_name': 'GreenPoint',
      'home': '‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å',
      'profile': '‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå',
      'settings': '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
      'partner_store': '‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏ô‡∏≠‡∏£‡πå',
      'rewards': '‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•',
      'scan_qr': '‡∏™‡πÅ‡∏Å‡∏ô QR',
      'hello': '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ',
      'points': '‡πÅ‡∏ï‡πâ‡∏°',
      'level': '‡πÄ‡∏•‡πÄ‡∏ß‡∏•',
      'logout': '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö',
      'login': '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö',
      'register': '‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å',
      'email': '‡∏≠‡∏µ‡πÄ‡∏°‡∏•',
      'password': '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô',
      'name': '‡∏ä‡∏∑‡πà‡∏≠',
      'notifications': '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
      'language': '‡∏†‡∏≤‡∏©‡∏≤',
      'security': '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢',
      'help': '‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠',
      'about': '‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÅ‡∏≠‡∏õ',
      'change_profile_picture': '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå',
      'take_photo': '‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ',
      'choose_from_gallery': '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà',
      'save': '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å',
      'cancel': '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å',
      'confirm': '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô',
      'success': '‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
      'error': '‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
      'loading': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...',
      'achievements': '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
      'recent_activity': '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î',
      'total_points': '‡πÅ‡∏ï‡πâ‡∏°‡∏£‡∏ß‡∏°',
      'plastic_reduced': '‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏•‡∏î',
      'days_joined': '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°',
      'enable_notifications': '‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
      'push_notifications': '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö Push',
      'email_notifications': '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•',
      'biometric_login': '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡∏°‡∏∑‡∏≠',
      'change_password': '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô',
      'two_factor_auth': '‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô 2 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô',
      'privacy_policy': '‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß',
      'terms_of_service': '‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
      'app_version': '‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏≠‡∏õ',
      'contact_support': '‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô',
      'rate_app': '‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏≠‡∏õ',
      'share_app': '‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏≠‡∏õ',
      'preferences': '‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',
      'support': '‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô',
      'legal': '‡∏Ç‡πâ‡∏≠‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢',
      'danger_zone': '‡πÇ‡∏ã‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢',
      'reset_settings': '‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
      'reset_all_settings': '‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
      'sign_out_account': '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ',
      'enabled': '‡πÄ‡∏õ‡∏¥‡∏î',
      'disabled': '‡∏õ‡∏¥‡∏î',
      'manage_security': '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢',
      'faq_support': '‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô',
      'app_info': '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏≠‡∏õ',
      'rate_on_store': '‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏ô‡∏™‡πÇ‡∏ï‡∏£‡πå',
      'share_with_friends': '‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô',
      'view_privacy': '‡∏î‡∏π‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß',
      'view_terms': '‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
      'logout_confirmation': '‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?',
      'biometric_enabled': '‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡∏°‡∏∑‡∏≠',
      'biometric_disabled': '‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡∏°‡∏∑‡∏≠',
      'biometric_error': '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡∏°‡∏∑‡∏≠',
      'select_language': '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤',
      'language_description': '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
      'available_languages': '‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö',
      'language_restart_note': '‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏ú‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ',
      'changing_language': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤...',
      'language_changed': '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
      'restart_app': '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
      'restart': '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà',
    },
    'en': {
      'app_name': 'GreenPoint',
      'home': 'Home',
      'profile': 'Profile',
      'settings': 'Settings',
      'partner_store': 'Partner Store',
      'rewards': 'Rewards',
      'scan_qr': 'Scan QR',
      'hello': 'Hello',
      'points': 'Points',
      'level': 'Level',
      'logout': 'Logout',
      'login': 'Login',
      'register': 'Register',
      'email': 'Email',
      'password': 'Password',
      'name': 'Name',
      'notifications': 'Notifications',
      'language': 'Language',
      'security': 'Security',
      'help': 'Help',
      'about': 'About',
      'change_profile_picture': 'Change Profile Picture',
      'take_photo': 'Take Photo',
      'choose_from_gallery': 'Choose from Gallery',
      'save': 'Save',
      'cancel': 'Cancel',
      'confirm': 'Confirm',
      'success': 'Success',
      'error': 'Error',
      'loading': 'Loading...',
      'achievements': 'Achievements',
      'recent_activity': 'Recent Activity',
      'total_points': 'Total Points',
      'plastic_reduced': 'Plastic Reduced',
      'days_joined': 'Days Joined',
      'enable_notifications': 'Enable Notifications',
      'push_notifications': 'Push Notifications',
      'email_notifications': 'Email Notifications',
      'biometric_login': 'Biometric Login',
      'change_password': 'Change Password',
      'two_factor_auth': 'Two-Factor Authentication',
      'privacy_policy': 'Privacy Policy',
      'terms_of_service': 'Terms of Service',
      'app_version': 'App Version',
      'contact_support': 'Contact Support',
      'rate_app': 'Rate App',
      'share_app': 'Share App',
      'preferences': 'Preferences',
      'support': 'Support',
      'legal': 'Legal',
      'danger_zone': 'Danger Zone',
      'reset_settings': 'Reset Settings',
      'reset_all_settings': 'Reset all settings',
      'sign_out_account': 'Sign out of account',
      'enabled': 'Enabled',
      'disabled': 'Disabled',
      'manage_security': 'Manage security',
      'faq_support': 'FAQ and support',
      'app_info': 'App information',
      'rate_on_store': 'Rate on store',
      'share_with_friends': 'Share with friends',
      'view_privacy': 'View privacy policy',
      'view_terms': 'View terms of service',
      'logout_confirmation': 'Do you want to logout?',
      'biometric_enabled': 'Biometric login enabled',
      'biometric_disabled': 'Biometric login disabled',
      'biometric_error': 'Error setting up biometric authentication',
      'select_language': 'Select Language',
      'language_description': 'Choose your preferred language',
      'available_languages': 'Available Languages',
      'language_restart_note': 'Language change will take effect immediately',
      'changing_language': 'Changing language...',
      'language_changed': 'Language changed successfully',
      'restart_app': 'Please close and reopen the app',
      'restart': 'Restart',
    },
  };

  static String translate(String key, String languageCode) {
    return _localizedValues[languageCode]?[key] ?? key;
  }

  static Future<String> getLanguage() async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getString(_languageKey) ?? 'th';
  }

  static Future<void> setLanguage(String languageCode) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString(_languageKey, languageCode);
  }

  static List<Map<String, String>> getSupportedLanguages() {
    return [
      {'code': 'th', 'name': '‡πÑ‡∏ó‡∏¢', 'flag': 'üáπüá≠'},
      {'code': 'en', 'name': 'English', 'flag': 'üá∫üá∏'},
    ];
  }
}